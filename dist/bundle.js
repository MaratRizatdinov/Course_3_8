(()=>{"use strict";function e(e,t){var c="",i="",o="close",r=window.localStorage.getItem("gameCardCollection"),l=JSON.parse(r),d=window.localStorage.getItem("fullCardCollection"),s=JSON.parse(d),_='<div class="header__container">\n                            <div class="header__timerfield">\n                                <div class="header__timertitle">\n                                    <div class="header__timernamemin">min</div>\n                                    <div class="header__timernamesec">sec</div>\n                                </div>\n                                <div class="header__timerclock">\n                                    <div class="header__timercounter header__timercounter--decimin">0</div>\n                                    <div class="header__timercounter header__timercounter--min">0</div>\n                                    <div class="header__timercounter header__timercounter--point">.</div>\n                                    <div class="header__timercounter header__timercounter--decisec">0</div>\n                                    <div class="header__timercounter header__timercounter--sec">0</div>\n                                </div>\n                            </div>\n                            <div class="header__button global__button global__button--disabled">Начать заново</div>\n                          </div>';if(6===l.length&&(i="easy"),12===l.length&&(i="medium"),18===l.length&&(i="hard"),c="".concat(_,'\n        \n    <div class = "card__container card__container--full center">\n        ').concat(n("",s,a,o),"\n    </div>"),e.innerHTML=c,setTimeout((function(){o="open",c="".concat(_,'\n        \n    <div class = "card__container card__container--full center">\n        ').concat(n("",s,a,o),"\n    </div>"),e.innerHTML=c}),0),"gameTime"!==t)return e;setTimeout((function(){c="".concat(_,'\n            \n    <div class = "card__container card__container--').concat(i,'">\n        ').concat(n("",l,a,o),"\n    </div>"),e.innerHTML=c}),0),setTimeout((function(){o="close";var t=(new Date).getTime();window.localStorage.setItem("start",String(t)),c="".concat(_,'\n            \n    <div class = "card__container card__container--').concat(i,'">\n        ').concat(n("",l,a,o),"\n    </div>"),e.innerHTML=c}),5e3)}function t(t,n,a){e(t,n),setTimeout((function(){var e,t,n,c,i,o,r=document.createElement("div");r.className="end__container global__container center",r.innerHTML='<div class="end__img"><img src='.concat("win"===a?'"img/WinImage.svg" alt="Win"':'"img/LossImage.svg" alt="Win"','></div>\n                             <div class="end__title"> ').concat("win"===a?"&nbspВы выиграли!":"Вы проиграли!",'</div>\n                             <div class="end__text">Затраченное время</div>\n                             <div class="end__time">').concat((e=(new Date).getTime(),t=Number(window.localStorage.getItem("start")),c=(n=Math.floor((e-t)/1e3))>59?n%60:n,i=Math.floor(n/60),o=c>9?String(c):"0"+String(c),(i>9?String(i):"0"+String(i))+"."+o),'</div>\n                             <div class="end__startbutton  global__button ">Играть снова</div>');var l=document.querySelector(".container");l.style.opacity="0.3",l=l.after(r),document.querySelector(".end__container").style.opacity="1.0"}),0)}function n(e,t,n,a){for(var c=0,i=t;c<i.length;c++){var o=i[c];e+="<div class ='card__items card__items--".concat(a,"'\n                          data-suite=").concat(o[1],"\n                          data-dignity=").concat(o[0],">\n\n                          ").concat(n(o,a),"\n             </div>")}return e}function a(e,t){return"open"===t?'<div class ="card__firstSymbol">\n                        '.concat("1"===e[0]?"10":e[0],'\n                    </div>\n                    <div class ="card__secondSymbol">\n                        <img src=').concat(c(e[1]),'>\n                    </div>\n                    <div class ="card__thirdSymbol">\n                        <img src=').concat(c(e[1])," class = 'card__centerPicture'>\n                    </div>\n                    <div class =\"card__fourSymbol \">\n                        <img src=").concat(c(e[1]),'>\n                    </div>\n                    <div class ="card__fiveSymbol">\n                        ').concat("1"===e[0]?"10":e[0],"\n                    </div>"):"close"===t?'<div class ="card__shirt">\n                    <img src="img/рубашка.svg" alt="Рубашка">\n                </div>':void 0}function c(e){return"s"===e?'"./img/Spades.svg" alt="Пики"':"d"===e?'"img/Diamonds.svg" alt="<Бубны>"':"h"===e?'"img/Hearts.svg" alt="Червы"':"c"===e?'"img/Clubs.svg" alt="Трефы"':void 0}function i(e){void 0===e&&(e=[]),e.sort((function(){return Math.random()-.5}))}var o,r,l=document.querySelector(".container");!function n(){null!==l&&function(e){window.localStorage.removeItem("level"),window.localStorage.removeItem("gameCardCollection"),window.localStorage.removeItem("fullCardCollection"),e.innerHTML='<div class="select__container global__container">\n                            <div class="select__title">Выбери сложность</div>\n                            <div class="select__levelsbox">\n                                <div class ="select__levelbutton">1</div>\n                                <div class="select__levelbutton">2</div>\n                                <div class="select__levelbutton">3</div>\n                            </div>     \n                            <div class="select__startbutton  global__button global__button--disabled">Старт</div>       \n                        </div>';var t=document.querySelectorAll(".select__levelbutton"),n=document.querySelector(".select__startbutton");n.disabled=!0;for(var a=function(e){e.addEventListener("click",(function(){for(var a=0,c=t;a<c.length;a++)c[a].classList.remove("select__levelbutton--active");e.classList.add("select__levelbutton--active"),window.localStorage.setItem("level",e.textContent),window.localStorage.setItem("gameStatus","gameTime"),n.disabled=!1,n.classList.remove("global__button--disabled")}))},c=0,i=t;c<i.length;c++)a(i[c])}(l);var a=document.querySelector(".select__startbutton");a.addEventListener("click",(function(){!0!==a.disabled?(o=window.localStorage.getItem("level")||"",r=window.localStorage.getItem("gameStatus"),function(e){void 0===e&&(e="");for(var t,n=[],a=["A","K","Q","J","1","9","8","7","6"],c=0,o=["s","h","d","c"];c<o.length;c++)for(var r=o[c],l=0,d=a;l<d.length;l++){var s=d[l];n.push(s+r)}window.localStorage.setItem("fullCardCollection",JSON.stringify(n)),i(n),"1"===e&&(n.length=3),"2"===e&&(n.length=6),"3"===e&&(n.length=9),i(t=n.concat(n)),window.localStorage.setItem("gameCardCollection",JSON.stringify(t))}(o),null!==l&&null!==r&&e(l,r),setTimeout((function(){return function(){var e=document.querySelector(".header__button");e.classList.remove("global__button--disabled"),e.addEventListener("click",(function(){n()}));for(var a=document.querySelectorAll(".card__items"),i=[],o=function(e){e.addEventListener("click",(function(){var o=e.dataset.suite+e.dataset.dignity;e.classList.contains("card__items--close")&&i.push(o),e.classList.remove("card__items--close"),e.classList.add("card__items--open"),e.innerHTML=function(e){return'<div class ="card__firstSymbol">\n                        '.concat("1"===e.dataset.dignity?"10":e.dataset.dignity,'\n                    </div>\n                    <div class ="card__secondSymbol">\n                        <img src=').concat(c(e.dataset.suite),'>\n                    </div>\n                    <div class ="card__thirdSymbol">\n                        <img src=').concat(c(e.dataset.suite)," class = 'card__centerPicture'>\n                    </div>\n                    <div class =\"card__fourSymbol \">\n                        <img src=").concat(c(e.dataset.suite),'>\n                    </div>\n                    <div class ="card__fiveSymbol">\n                        ').concat("1"===e.dataset.dignity?"10":e.dataset.dignity,"\n                    </div>")}(e),setTimeout((function(){var e="";i.length>0&&i.length%2==0&&i[i.length-1]!==i[i.length-2]&&(window.localStorage.setItem("gameStatus","gameEnd"),r=window.localStorage.getItem("gameStatus"),e="loss",null!==l&&null!==r&&t(l,r,e),setTimeout((function(){document.querySelector(".end__startbutton").addEventListener("click",(function(){window.localStorage.removeItem("start"),window.localStorage.removeItem("gameStatus");var e=document.querySelector(".end__container"),t=document.querySelector(".container");e.remove(),t.style.opacity="1",n()}))}),1)),i.length===a.length&&(window.localStorage.setItem("gameStatus","gameEnd"),r=window.localStorage.getItem("gameStatus"),e="win",null!==l&&null!==r&&t(l,r,e),setTimeout((function(){document.querySelector(".end__startbutton").querySelector(".end__startbutton").addEventListener("click",(function(){window.localStorage.removeItem("start"),window.localStorage.removeItem("gameStatus");var e=document.querySelector(".end__container"),t=document.querySelector(".end__container");e.remove(),t.style.opacity="1",n()}))}),1))}),5)}))},d=0,s=a;d<s.length;d++)o(s[d])}()}),5001)):alert("Выберите сложность!")}))}()})();